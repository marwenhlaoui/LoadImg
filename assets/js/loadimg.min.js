!function(i){i.fn.loadImg=function(e){var s={fileExt:["jpg"],fileSize:[0,2]},n=i(this).selector,t=(i(n).append('<div class="loader"></div>'),i(n).append("<img>"),"undefined"==typeof e.text?"Upload":e.text),f=function(){i(n).addClass("_cssimg"),i(n).attr("text-file",t),i(n).find("input[type=file]").on("change",function(){i(n).find(".loader").show(),0!=r(this)&&0!=d(this)&&l(this)})},l=function(i){if(i.files&&i.files[0]){var e=new FileReader;e.onload=function(i){setTimeout(a(i.target.result),parseInt(800*Math.random()+800))},e.readAsDataURL(i.files[0])}},a=function(e){i(n).find("img").show(),i(n).removeClass("_cssimg"),i(n).addClass("_imgshow"),i(n).find("img").attr("src",e),i(n).find(".loader").hide("slow")},r=function(n){if(n.files&&n.files[0]){var t=n.files[0],f=["jpg","gif","png"];e.fileExt?listExtensions=e.fileExt:listExtensions=s.fileExt;var l=t.name,a=l.substr(l.lastIndexOf(".")+1);if(-1==i.inArray(a,f)||-1==i.inArray(a,listExtensions))return o("Invalid file type")}},d=function(i){if(i.files&&i.files[0]){var n=i.files[0],t=parseInt(0),f=s.fileSize[0],l=s.fileSize[1],a=parseInt(1053633);if(e.fileSize_min&&(f=e.fileSize_min),e.fileSize_max&&(l=e.fileSize_max),n.size&&(t=n.size),n.size<parseInt(f*a)||n.size>parseInt(l*a))return o("Invalid file size")}},o=function(e){return i(n).find("img").hide(),i(n).find(".loader").hide("slow"),i(n).removeClass("_imgshow"),i(n).addClass("_cssimg"),!1};f()}}(jQuery);