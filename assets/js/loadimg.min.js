!function(a){a.fn.loadImg=function(b){var c={fileExt:["jpg"],fileSize:[0,2]},d=a(this).selector,g=(a(d).append('<div class="loader"></div>'),a(d).append("<img>"),"undefined"==typeof b.text?"Upload":b.text),h=function(){a(d).attr("exist-img")?o(a(d).attr("exist-img")):n()},i=function(a){if(a.files&&a.files[0]){var b=new FileReader;b.onload=function(a){setTimeout(j(a.target.result),parseInt(800*Math.random()+800))},b.readAsDataURL(a.files[0])}},j=function(b){a(d).find("img").show(),a(d).removeClass("_cssimg"),a(d).addClass("_imgshow"),a(d).find("img").attr("src",b),a(d).find(".loader").hide("slow")},k=function(d){if(d.files&&d.files[0]){var e=d.files[0],f=["jpg","gif","png"];b.fileExt?listExtensions=b.fileExt:listExtensions=c.fileExt;var g=e.name,h=g.substr(g.lastIndexOf(".")+1);if(a.inArray(h,f)==-1||a.inArray(h,listExtensions)==-1)return m("Invalid file type")}},l=function(a){if(a.files&&a.files[0]){var d=a.files[0],e=parseInt(0),f=c.fileSize[0],g=c.fileSize[1],h=parseInt(1053633);if(b.fileSize_min&&(f=b.fileSize_min),b.fileSize_max&&(g=b.fileSize_max),d.size&&(e=d.size),d.size<parseInt(f*h)||d.size>parseInt(g*h))return m("Invalid file size")}},m=function(b){return a(d).find("img").hide(),a(d).find(".loader").hide("slow"),a(d).removeClass("_imgshow"),a(d).addClass("_cssimg"),!1},n=function(){a(d).addClass("_cssimg"),a(d).attr("text-file",g),a(d).find("input[type=file]").on("change",function(){a(d).find(".loader").show(),0!=k(this)&&0!=l(this)&&i(this)})},o=function(b){j(b),a(d).attr("text-file",g),a(d).find("input[type=file]").on("change",function(){a(d).removeAttr("exist-img"),a(d).find(".loader").show(),0!=k(this)&&0!=l(this)&&i(this)})};h()}}(jQuery);